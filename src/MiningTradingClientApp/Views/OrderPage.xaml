<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MiningTradingClientApp.Views.OrderPage"
             Title="Place Order">
    
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            
            <Label Text="Place Your Order" 
                   Style="{StaticResource HeadlineStyle}" />

            <!-- Mineral Summary -->
            <Frame Style="{StaticResource CardStyle}">
                <VerticalStackLayout Spacing="12">
                    <Label Text="Order Summary" 
                           Style="{StaticResource SubtitleStyle}" />
                    
                    <BoxView Style="{StaticResource DividerStyle}" />

                    <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto,Auto" RowSpacing="8">
                        <Label Grid.Row="0" Grid.Column="0"
                               Text="Mineral:" 
                               Style="{StaticResource CaptionStyle}" />
                        <Label Grid.Row="0" Grid.Column="1"
                               x:Name="MineralNameLabel"
                               Text="Loading..."
                               Style="{StaticResource BodyStyle}"
                               HorizontalTextAlignment="End" />

                        <Label Grid.Row="1" Grid.Column="0"
                               Text="Price per kg:" 
                               Style="{StaticResource CaptionStyle}" />
                        <Label Grid.Row="1" Grid.Column="1"
                               x:Name="PriceLabel"
                               Text="$0.00"
                               Style="{StaticResource BodyStyle}"
                               HorizontalTextAlignment="End" />

                        <Label Grid.Row="2" Grid.Column="0"
                               Text="Seller:" 
                               Style="{StaticResource CaptionStyle}" />
                        <Label Grid.Row="2" Grid.Column="1"
                               x:Name="SellerLabel"
                               Text="Loading..."
                               Style="{StaticResource BodyStyle}"
                               HorizontalTextAlignment="End" />
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <!-- Order Form -->
            <VerticalStackLayout Spacing="16">
                <Label Text="Buyer Information" 
                       Style="{StaticResource SubtitleStyle}" />

                <VerticalStackLayout Spacing="8">
                    <Label Text="Your Name" 
                           Style="{StaticResource CaptionStyle}" />
                    <Entry x:Name="BuyerNameEntry"
                          Placeholder="Enter your name"
                          Style="{StaticResource EntryStyle}" />
                </VerticalStackLayout>

                <VerticalStackLayout Spacing="8">
                    <Label Text="Email Address" 
                           Style="{StaticResource CaptionStyle}" />
                    <Entry x:Name="BuyerEmailEntry"
                          Placeholder="Enter your email"
                          Keyboard="Email"
                          Style="{StaticResource EntryStyle}" />
                </VerticalStackLayout>

                <VerticalStackLayout Spacing="8">
                    <Label Text="Quantity (kg)" 
                           Style="{StaticResource CaptionStyle}" />
                    <Entry x:Name="QuantityEntry"
                          Placeholder="Enter quantity"
                          Keyboard="Numeric"
                          Text="1.0"
                          Style="{StaticResource EntryStyle}"
                          TextChanged="OnQuantityChanged" />
                </VerticalStackLayout>
            </VerticalStackLayout>

            <!-- Total Calculation -->
            <Frame Style="{StaticResource CardStyle}"
                   BackgroundColor="{StaticResource BackgroundLight}">
                <Grid ColumnDefinitions="*,Auto" RowSpacing="8">
                    <Label Grid.Column="0"
                           Text="Total Amount:" 
                           Style="{StaticResource SubtitleStyle}" />
                    <Label Grid.Column="1"
                           x:Name="TotalLabel"
                           Text="$0.00"
                           Style="{StaticResource PriceStyle}"
                           FontSize="24"
                           TextColor="{StaticResource RobinhoodGreen}"
                           HorizontalTextAlignment="End" />
                </Grid>
            </Frame>

            <!-- Submit Button -->
            <Button Text="Confirm Order"
                   Style="{StaticResource BuyButtonStyle}"
                   Clicked="OnSubmitOrderClicked"
                   Margin="0,10,0,20" />

        </VerticalStackLayout>
    </ScrollView>
    
</ContentPage>
